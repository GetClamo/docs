---
title: Inicio Rápido
description: Configura tu entorno de desarrollo de Clamo con el CLI clamo
---

El CLI `clamo` orquesta tu entorno de desarrollo local. Gestiona servicios, bases de datos y dependencias.

## Prerrequisitos

| Software | Versión | Propósito |
|----------|---------|-----------|
| Node.js | 20+ | Frontend y servicios TypeScript |
| pnpm | 10+ | Gestor de paquetes |
| Python | 3.10+ | CLI y servicios Python |
| uv | Última | Gestor de paquetes Python |
| Docker | Última | CEJ extractor y discovery workers |

### Instalar uv

<CodeGroup>
```bash Linux/macOS
curl -LsSf https://astral.sh/uv/install.sh | sh
```

```powershell Windows
powershell -ExecutionPolicy ByPass -c "irm https://astral.sh/uv/install.ps1 | iex"
```

```bash Homebrew
brew install uv
```
</CodeGroup>

Reinicia tu terminal y verifica:

```bash
uv --version
```

## Instalación

<Steps>
  <Step title="Clona el monorepo">
    ```bash
    git clone git@github.com:GetClamo/clamo.git
    cd clamo
    ```
  </Step>

  <Step title="Instala el CLI">
    ```bash
    cd clamo-setup
    uv tool install . --force
    ```

    Reinicia tu terminal y verifica:
    ```bash
    clamo --help
    ```
  </Step>

  <Step title="Ejecuta el wizard de configuración">
    Desde el directorio raíz de clamo:
    ```bash
    cd /path/to/clamo
    clamo dev setup
    ```

    El wizard te preguntará qué servicios ejecutar.
  </Step>

  <Step title="Inicia los servicios">
    ```bash
    clamo dev start
    ```
  </Step>
</Steps>

<Note>
Siempre ejecuta los comandos `clamo` desde el directorio raíz de clamo (donde están `clamo-web-app`, `clamo-cases`, etc.).
</Note>

## Servicios Disponibles

| Servicio | Descripción | Puerto | Tipo |
|----------|-------------|--------|------|
| `clamo-web` | Frontend Next.js | 3000 | Local |
| `clamo-cases` | API de Casos | 4000 | Local |
| `clamo-tenant` | API de Tenants | 4001 | Local |
| `clamo-dashboards` | API de Dashboards (Rust) | 8020 | Local |
| `clamo-widget-server` | Widget Server | 3005 | Local |
| `luna` | Asistente IA (LangGraph) | 8000 | Local |
| `clamo-tools` | API REST de Tools IA | 8080 | Local |
| `clamo-cej-extractor` | CEJ Extractor + Inngest | 8003 | Docker |
| `clamo-cej-discovery` | Discovery workers | - | Docker |

## Comandos

### Desarrollo

| Comando | Descripción |
|---------|-------------|
| `clamo dev setup` | Configuración interactiva del entorno |
| `clamo dev start` | Inicia todos los servicios configurados |
| `clamo dev start --rebuild` | Inicia y reconstruye contenedores Docker |
| `clamo dev stop` | Detiene servicios Docker |
| `clamo dev restart` | Reinicia todos los servicios |
| `clamo dev restart --rebuild` | Reinicia y reconstruye contenedores |

### Base de Datos

| Comando | Descripción |
|---------|-------------|
| `clamo db migrate stg` | Ejecuta migraciones en staging |
| `clamo db migrate prd` | Ejecuta migraciones en producción |
| `clamo db status stg` | Verifica estado de migraciones |
| `clamo db studio stg` | Abre Prisma Studio |

### Gestión del CLI

| Comando | Descripción |
|---------|-------------|
| `clamo update` | Actualiza el CLI desde el código fuente |
| `clamo uninstall` | Desinstala el CLI |

## Flujo de Trabajo Diario

```bash
# Setup inicial (una vez)
clamo dev setup

# Iniciar servicios
clamo dev start

# ... trabaja en tu código ...
# Ctrl+C para detener

# Reiniciar si es necesario
clamo dev restart

# Reconstruir contenedores si cambiaron dependencias
clamo dev restart --rebuild
```

## Hot Reload

Todos los servicios tienen hot reload habilitado:

| Servicio | Hot Reload |
|----------|------------|
| clamo-web (Next.js) | Automático |
| clamo-cases | Via `pnpm dev` |
| clamo-tenant | Via `pnpm dev` |
| luna (LangGraph) | Via `langgraph dev` |
| clamo-tools | Via `uvicorn --reload` |

## Cuándo Reconstruir Contenedores

**Necesita rebuild:**
- Cambiaron dependencias (`pyproject.toml`, `uv.lock`)
- Cambió el Dockerfile
- Se actualizó la imagen base

```bash
clamo dev restart --rebuild
```

**No necesita rebuild:**
- Cambios en código Python (hot reload)
- Cambios en `.env`
- Cambios de configuración en runtime

## Configuración

La configuración se guarda en `clamo.dev.config.json` en el directorio raíz. Ejecuta `clamo dev setup` en cualquier momento para cambiar tu configuración.

## Troubleshooting

<AccordionGroup>
  <Accordion title="clamo: command not found">
    Reinicia tu terminal después de instalar el CLI. Si usas instalación de desarrollo, activa el virtualenv:
    ```bash
    cd clamo-setup
    source .venv/bin/activate
    ```
  </Accordion>

  <Accordion title="Los contenedores Docker no inician">
    Verifica que Docker esté corriendo:
    ```bash
    docker ps
    ```
    Si hay contenedores huérfanos:
    ```bash
    clamo dev stop
    docker system prune
    clamo dev start --rebuild
    ```
  </Accordion>

  <Accordion title="Puerto en uso">
    Verifica qué proceso está usando el puerto:
    ```bash
    lsof -i :3000  # web
    lsof -i :4000  # cases
    lsof -i :4001  # tenant
    ```
  </Accordion>
</AccordionGroup>

## Próximos Pasos

<CardGroup cols={2}>
  <Card title="Arquitectura" icon="sitemap" href="/es/inicio/arquitectura">
    Entiende cómo se conectan los servicios.
  </Card>
  <Card title="Servicios" icon="server" href="/es/servicios/clamo-cases">
    Explora los microservicios.
  </Card>
</CardGroup>
