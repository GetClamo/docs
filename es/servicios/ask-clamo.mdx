---
title: ask-clamo
description: Asistentes IA unificados con LangGraph para consultas y análisis
---

# ask-clamo

Asistente de IA unificado para Clamo - consolida Javi (Asistente de Casos), Clamy (Asistente de Analytics) y Luna (Asistente Global) en un solo despliegue LangGraph Platform.

## Información General

| Propiedad | Valor |
|-----------|-------|
| **Repositorio** | `GetClamo/ask-clamo` |
| **Lenguaje** | Python 3.11 |
| **Framework** | LangGraph |
| **LLM** | Anthropic Claude |
| **Puerto** | 8123 |

## Características Principales

- **Despliegue Único**: Un grafo, tres asistentes
- **Hilos Compartidos**: Javi, Clamy y Luna pueden ejecutarse en el mismo hilo, compartiendo historial de mensajes
- **Aislamiento de Herramientas**: Cada asistente solo ve sus herramientas designadas (middleware + guard)
- **Prompts Dinámicos**: Los prompts del sistema se seleccionan según assistant_name en el contexto
- **Integración MCP**: Clamy carga herramientas de analítica de Tinybird vía MCP

## Asistentes

### Javi (Asistente de Casos)

- **Propósito**: Ayudar a los usuarios a entender casos legales individuales (alcance de página)
- **Herramientas**: `get_case_details`, `get_case_progress`, `get_case_movements`, `get_case_milestones`
- **Contexto Requerido**: `case_id`, `company_id`, `access_token`
- **Caso de Uso**: Incrustado en páginas de detalle de casos

### Clamy (Asistente de Analytics)

- **Propósito**: Generar gráficos y visualizaciones para análisis de cartera legal
- **Herramientas**: `show_chart`, `show_kpi`, `show_custom_chart`, `get_chart_template`, más herramientas MCP Tinybird
- **Contexto Requerido**: `company_id` (case_id opcional)
- **Caso de Uso**: Incrustado en páginas de analytics/dashboard

### Luna (Asistente Global)

- **Propósito**: Asistente generalista con acceso a TODOS los casos (sin alcance de página)
- **Herramientas**: `get_case_details_by_id`, `get_case_progress_by_id`, `get_case_movements_by_id`, `get_case_milestones_by_id`, `search_cases`, `list_cases`, más herramientas de gráficos
- **Contexto Requerido**: `company_id`, `access_token` (case_id NO requerido - se pasa como argumento de herramienta)
- **Caso de Uso**: Widget de chat global, consultas cruzadas de casos, vista general de cartera

## Configuración

### Variables de Entorno

```bash
# Anthropic
ANTHROPIC_API_KEY=sk-ant-...

# APIs
CLAMO_CASES_URL=http://localhost:4000
TINYBIRD_TOKEN=perJ-...

# Servidor
PORT=8123
```

## Desarrollo Local

```bash
# Instalar dependencias
uv sync

# Ejecutar servidor
uv run langgraph dev

# Tests
uv run pytest
```

## Siguientes Pasos

<CardGroup cols={2}>
  <Card
    title="Arquitectura"
    icon="sitemap"
    href="/es/arquitectura/asistentes-ia"
  >
    Arquitectura detallada de asistentes IA.
  </Card>
  <Card
    title="Catálogo de Servicios"
    icon="server"
    href="/es/servicios/catalogo"
  >
    Vista general de todos los servicios Clamo.
  </Card>
</CardGroup>