---
title: ask-clamo
description: Unified AI assistants with LangGraph for case queries and analytics
---

# ask-clamo

Unified AI Assistant for Clamo - consolidates Javi (Case Assistant), Clamy (Analytics Assistant), and Luna (Global Assistant) into a single LangGraph Platform deployment.

## General Information

| Property | Value |
|----------|-------|
| **Repository** | `GetClamo/ask-clamo` |
| **Language** | Python 3.11 |
| **Framework** | LangGraph |
| **LLM** | Anthropic Claude |
| **Port** | 8123 |

## Key Features

- **Single Deployment**: One graph, three assistants
- **Shared Threads**: Javi, Clamy, and Luna can run on the same thread, sharing message history
- **Tool Isolation**: Each assistant only sees their designated tools (middleware + guard)
- **Dynamic Prompts**: System prompts are selected based on assistant_name in context
- **MCP Integration**: Clamy loads Tinybird analytics tools via MCP

## Assistants

### Javi (Case Assistant)

- **Purpose**: Help users understand individual legal cases (page-scoped)
- **Tools**: `get_case_details`, `get_case_progress`, `get_case_movements`, `get_case_milestones`
- **Context Required**: `case_id`, `company_id`, `access_token`
- **Use Case**: Embedded in case detail pages

### Clamy (Analytics Assistant)

- **Purpose**: Generate charts and visualizations for legal portfolio analytics
- **Tools**: `show_chart`, `show_kpi`, `show_custom_chart`, `get_chart_template`, plus MCP Tinybird tools
- **Context Required**: `company_id` (case_id optional)
- **Use Case**: Embedded in analytics/dashboard pages

### Luna (Global Assistant)

- **Purpose**: Generalist assistant with access to ALL cases (not page-scoped)
- **Tools**: `get_case_details_by_id`, `get_case_progress_by_id`, `get_case_movements_by_id`, `get_case_milestones_by_id`, `search_cases`, `list_cases`, plus chart tools
- **Context Required**: `company_id`, `access_token` (case_id NOT required - passed as tool argument)
- **Use Case**: Global chat widget, cross-case queries, portfolio overview

## Configuration

### Environment Variables

```bash
# Anthropic
ANTHROPIC_API_KEY=sk-ant-...

# APIs
CLAMO_CASES_URL=http://localhost:4000
TINYBIRD_TOKEN=perJ-...

# Server
PORT=8123
```

## Local Development

```bash
# Install dependencies
uv sync

# Run server
uv run langgraph dev

# Tests
uv run pytest
```

## Next Steps

<CardGroup cols={2}>
  <Card
    title="Architecture"
    icon="sitemap"
    href="/en/architecture/ai-assistants"
  >
    Detailed AI assistants architecture.
  </Card>
  <Card
    title="Service Catalog"
    icon="server"
    href="/en/services/catalog"
  >
    Overview of all Clamo services.
  </Card>
</CardGroup>